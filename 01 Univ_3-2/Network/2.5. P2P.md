# 개요

## Client-Server 구조
- 기존의 구조

## P2P 구조
 - Pear to Pear
	 - 자가 확장
	 - pear는 변경될 수 있음
		 - 관리 힘듦
	- 임의의 종단 시스템 간 자율적 통신
	- 피어들 간에 비정기적으로 통신
		- IP를 수시 변경 함
- P2P 파일 공유

<hr>

# 파일 분배

## Client-Server의 문제점
- Server단의 부하가 굉장히 높다
	- Server
	- Network
- 클라이언트는 서버에게서만 파일을 받아야 함
- 속도
	- 추가 필
	- $Dc-s > max{NF/us,,F/dmin}$

## P2P
1. 서버 전송
	1. 최소 1개
2. 클라이언트 복사된 파일을 다운로드 해야 함
3. 클라이언트는 NF비트 다운로드 수행
4. 속도
	1. 추가 필
	2. $DP2P > max{F/us,,F/dmin,,NF/(us + Sui)}$

## 비트 토렌트
- 청크 분할
	- 266KB
- pear to pear
	- 청크 단위로 파일 송수신
- 트래커 - Tracker
	- 토렌트에 참여하는 피어 추적
- 토렌트
	- 파일을 청크 단위로 주고 받는 피어들의 그룹
### 특징
1. 이웃 피어와 다운로드, 업로드를 동시에 진행
2. 청크 교환을 위해 상대 피어를 변경할 수 있음
	1. 변동 피어
		1. 임의로 탈퇴
		2. 임의로 가입
3. 전체 파일을 입수한 피어
	1. 토렌트 탈퇴
	2. 토렌트 채류
### 토렌트 가입
- 토렌트에 가입하는 피어
	- 청크가 없음
		- 시간이 경과
			- 다른 피어에게 청크를 받아 저장
	- 트래커를 통해 가입
		- 이웃한 피어에 접속이 목적
	- 피어 목록을 받음

### 파일 청크 주고받기
- 청크 요청
	- 임의의 시간의 다른 피어
		- 다른 청크의 부분집합
	- 수행자
		- 상대의 파일 리스트 요청
	- 미 보유 청크 요청
		- 가장 드문 청크를 최우선 요청
- 청크 송신
	- tit for tat
		- 반복 게임
			- 이전 게임의 상대 전략
			- 이번 게임의 본인 전략
			- 동일하게 가져감
- 피어 선정
	- 10초마다 4명의 피어에게 청크를 최고 속도 송신
		- 속도 기준으로 4명의 피어 재선정
		- 타 피어는 청크를 받을 수 없음
	- 30초 마다 임의의 피어 선정 - 청크 송신
		- 새로운 피어와 낙관적으로 전송
		- 재선정된 피어는 4명의 피어와 동일 할 수 있음